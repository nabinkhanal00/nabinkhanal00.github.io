import{s as _e,f as d,a as b,l as ve,g as p,h as z,d as h,c as y,r as Z,m as ge,j as l,G as de,i as D,v as u,H as q,w as B,I as xe,J as Ee,E as ze,u as Ie}from"../chunks/scheduler.e67d60ea.js";import{S as we,i as be,b as Q,d as W,m as Y,a as ee,t as te,e as se}from"../chunks/index.f857a1c9.js";import{I as Ce}from"../chunks/Icon.60a46965.js";import{B as je}from"../chunks/Button.1c5fd27a.js";import{j as Me}from"../chunks/singletons.8e338808.js";import{M as Se}from"../chunks/Modal.56d9dfbf.js";const H={_origin:"https://api.emailjs.com"},Te=(s,e="https://api.emailjs.com")=>{H._userID=s,H._origin=e},ye=(s,e,a)=>{if(!s)throw"The public key is required. Visit https://dashboard.emailjs.com/admin/account";if(!e)throw"The service ID is required. Visit https://dashboard.emailjs.com/admin";if(!a)throw"The template ID is required. Visit https://dashboard.emailjs.com/admin/templates";return!0};class pe{constructor(e){this.status=e?e.status:0,this.text=e?e.responseText:"Network Error"}}const $e=(s,e,a={})=>new Promise((r,o)=>{const i=new XMLHttpRequest;i.addEventListener("load",({target:t})=>{const m=new pe(t);m.status===200||m.text==="OK"?r(m):o(m)}),i.addEventListener("error",({target:t})=>{o(new pe(t))}),i.open("POST",H._origin+s,!0),Object.keys(a).forEach(t=>{i.setRequestHeader(t,a[t])}),i.send(e)}),Le=(s,e,a,r)=>{const o=r||H._userID;return ye(o,s,e),$e("/api/v1.0/email/send",JSON.stringify({lib_version:"3.11.0",user_id:o,service_id:s,template_id:e,template_params:a}),{"Content-type":"application/json"})},qe=s=>{let e;if(typeof s=="string"?e=document.querySelector(s):e=s,!e||e.nodeName!=="FORM")throw"The 3rd parameter is expected to be the HTML form element or the style selector of form";return e},Fe=(s,e,a,r)=>{const o=r||H._userID,i=qe(a);ye(o,s,e);const t=new FormData(i);return t.append("lib_version","3.11.0"),t.append("service_id",s),t.append("template_id",e),t.append("user_id",o),$e("/api/v1.0/email/send-form",t)},De={init:Te,send:Le,sendForm:Fe},Pe=Me("goto");function he(s){let e,a="Please fill all the fields";return{c(){e=d("p"),e.textContent=a,this.h()},l(r){e=p(r,"P",{class:!0,"data-svelte-h":!0}),Z(e)!=="svelte-w7p9xv"&&(e.textContent=a),this.h()},h(){l(e,"class","text-red-600")},m(r,o){D(r,e,o)},d(r){r&&h(e)}}}function Ae(s){let e;return{c(){e=ve("Send")},l(a){e=ge(a,"Send")},m(a,r){D(a,e,r)},d(a){a&&h(e)}}}function Ve(s){let e,a,r,o,i,t,m,f,P,x,F="Name",A,E,v,V,g,N,J,ae,j,$,re,M,ue="Subject",ne,S,I,le,T,me="Message",oe,L,R,C,O,ie,ce;r=new Ce({props:{height:"30",width:"30",icon:"bx:arrow-back"}});let _=s[0]&&he();return L=new je({props:{$$slots:{default:[Ae]},$$scope:{ctx:s}}}),C=new Se({props:{openModal:s[5],title:"Thank you",message:"I will contanct you shortly. Redirecting"}}),C.$on("click",s[6]),{c(){e=d("div"),a=d("a"),Q(r.$$.fragment),o=b(),_&&_.c(),i=b(),t=d("form"),m=d("div"),f=d("input"),P=b(),x=d("label"),x.textContent=F,A=b(),E=d("div"),v=d("input"),V=b(),g=d("label"),N=ve("Email"),ae=b(),j=d("div"),$=d("input"),re=b(),M=d("label"),M.textContent=ue,ne=b(),S=d("div"),I=d("textarea"),le=b(),T=d("label"),T.textContent=me,oe=b(),Q(L.$$.fragment),R=b(),Q(C.$$.fragment),this.h()},l(n){e=p(n,"DIV",{class:!0});var c=z(e);a=p(c,"A",{href:!0});var k=z(a);W(r.$$.fragment,k),k.forEach(h),o=y(c),_&&_.l(c),i=y(c),t=p(c,"FORM",{});var w=z(t);m=p(w,"DIV",{class:!0});var K=z(m);f=p(K,"INPUT",{id:!0,type:!0,class:!0}),P=y(K),x=p(K,"LABEL",{for:!0,class:!0,"data-svelte-h":!0}),Z(x)!=="svelte-bs9sy6"&&(x.textContent=F),K.forEach(h),A=y(w),E=p(w,"DIV",{class:!0});var U=z(E);v=p(U,"INPUT",{id:!0,type:!0,class:!0}),V=y(U),g=p(U,"LABEL",{class:!0,for:!0});var fe=z(g);N=ge(fe,"Email"),fe.forEach(h),U.forEach(h),ae=y(w),j=p(w,"DIV",{class:!0});var G=z(j);$=p(G,"INPUT",{id:!0,type:!0,class:!0}),re=y(G),M=p(G,"LABEL",{for:!0,class:!0,"data-svelte-h":!0}),Z(M)!=="svelte-ct7802"&&(M.textContent=ue),G.forEach(h),ne=y(w),S=p(w,"DIV",{class:!0});var X=z(S);I=p(X,"TEXTAREA",{id:!0,class:!0}),z(I).forEach(h),le=y(X),T=p(X,"LABEL",{for:!0,class:!0,"data-svelte-h":!0}),Z(T)!=="svelte-za1rs6"&&(T.textContent=me),X.forEach(h),oe=y(w),W(L.$$.fragment,w),w.forEach(h),c.forEach(h),R=y(n),W(C.$$.fragment,n),this.h()},h(){l(a,"href","/contact"),l(f,"id","name"),l(f,"type","text"),l(f,"class","input input-neutral w-full bg-white my-2 text-primary font-secondary svelte-zwy3xp"),f.required=!0,l(x,"for","name"),l(x,"class","svelte-zwy3xp"),l(m,"class","form-item mb-5 mt-2 svelte-zwy3xp"),l(v,"id","email"),l(v,"type","text"),l(v,"class","input input-neutral w-full bg-white my-2 text-primary font-secondary svelte-zwy3xp"),v.required=!0,l(g,"class",J=de(`${s[8](s[2])&&s[2]!==""?"":"error"}`)+" svelte-zwy3xp"),l(g,"for","email"),l(E,"class","form-item mb-5 mt-2 svelte-zwy3xp"),l($,"id","subject"),l($,"type","text"),l($,"class","input input-neutral w-full bg-white my-2 text-primary font-secondary svelte-zwy3xp"),$.required=!0,l(M,"for","subject"),l(M,"class","svelte-zwy3xp"),l(j,"class","form-item mb-5 mt-2 svelte-zwy3xp"),l(I,"id","message_area"),l(I,"class","textarea textarea-neutral bg-white w-full text-primary font-secondary svelte-zwy3xp"),l(T,"for","message_area"),l(T,"class","svelte-zwy3xp"),l(S,"class","form-item mb-5 mt-2 svelte-zwy3xp"),l(e,"class","flex flex-col p-6 rounded-md gap-5 w-full h-full justify-center")},m(n,c){D(n,e,c),u(e,a),Y(r,a,null),u(e,o),_&&_.m(e,null),u(e,i),u(e,t),u(t,m),u(m,f),q(f,s[1]),u(m,P),u(m,x),u(t,A),u(t,E),u(E,v),q(v,s[2]),u(E,V),u(E,g),u(g,N),u(t,ae),u(t,j),u(j,$),q($,s[3]),u(j,re),u(j,M),u(t,ne),u(t,S),u(S,I),q(I,s[4]),u(S,le),u(S,T),u(t,oe),Y(L,t,null),D(n,R,c),Y(C,n,c),O=!0,ie||(ce=[B(f,"input",s[9]),B(v,"input",s[10]),B($,"input",s[11]),B(I,"input",s[12]),B(t,"submit",xe(s[7]))],ie=!0)},p(n,[c]){n[0]?_||(_=he(),_.c(),_.m(e,i)):_&&(_.d(1),_=null),c&2&&f.value!==n[1]&&q(f,n[1]),c&4&&v.value!==n[2]&&q(v,n[2]),(!O||c&4&&J!==(J=de(`${n[8](n[2])&&n[2]!==""?"":"error"}`)+" svelte-zwy3xp"))&&l(g,"class",J),c&8&&$.value!==n[3]&&q($,n[3]),c&16&&q(I,n[4]);const k={};c&8192&&(k.$$scope={dirty:c,ctx:n}),L.$set(k);const w={};c&32&&(w.openModal=n[5]),C.$set(w)},i(n){O||(ee(r.$$.fragment,n),ee(L.$$.fragment,n),ee(C.$$.fragment,n),O=!0)},o(n){te(r.$$.fragment,n),te(L.$$.fragment,n),te(C.$$.fragment,n),O=!1},d(n){n&&(h(e),h(R)),se(r),_&&_.d(),se(L),se(C,n),ie=!1,Ee(ce)}}}function Ne(s,e,a){let r=!1,o,i,t,m,f=!1;function P(){a(5,f=!f)}const x=async()=>{if(o==""||i==""||t==""||F(i)==!1){a(0,r=!0);return}F(i)&&await De.send("service_qz58e7m","template_ffwoceo",{to_name:o,to_from:i,to_subject:t,to_message:m},"qVOOMuIPq4dphGzJ0").then(g=>{localStorage.setItem("form_submitted","true"),Pe("/contact",{replaceState:!0}),a(0,r=!1)},g=>{console.log("Failed",g)})},F=g=>{var N=/^(([^<>()[\]\\.,;:\s@\"]+(\.[^<>()[\]\\.,;:\s@\"]+)*)|(\".+\"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/;return N.test(String(g).toLowerCase())};function A(){o=this.value,a(1,o)}function E(){i=this.value,a(2,i)}function v(){t=this.value,a(3,t)}function V(){m=this.value,a(4,m)}return[r,o,i,t,m,f,P,x,F,A,E,v,V]}class Oe extends we{constructor(e){super(),be(this,e,Ne,Ve,_e,{})}}function ke(s){let e,a,r,o,i;return o=new Oe({}),{c(){e=d("meta"),a=b(),r=d("div"),Q(o.$$.fragment),this.h()},l(t){const m=ze("svelte-ogffv",document.head);e=p(m,"META",{name:!0,content:!0}),m.forEach(h),a=y(t),r=p(t,"DIV",{class:!0});var f=z(r);W(o.$$.fragment,f),f.forEach(h),this.h()},h(){document.title="Contact Form for Nabin Khanal",l(e,"name","description"),l(e,"content","Fill the form to contact Nabin Khanal"),l(r,"class","max-w-xl mx-auto h-[90vh]")},m(t,m){u(document.head,e),D(t,a,m),D(t,r,m),Y(o,r,null),i=!0},p:Ie,i(t){i||(ee(o.$$.fragment,t),i=!0)},o(t){te(o.$$.fragment,t),i=!1},d(t){t&&(h(a),h(r)),h(e),se(o)}}}class Ge extends we{constructor(e){super(),be(this,e,null,ke,_e,{})}}export{Ge as component};
